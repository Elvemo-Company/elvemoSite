import{r as i,u as P,t as W,j as e,L as j}from"./index-CfPR-kaP.js";import{g as V,E as N}from"./index-B9W1n0vf.js";import{u as w,M,a as z,b as I,s as C,c as R,m as h}from"./proxy-BSerEXlg.js";function T(s){const a=w(()=>z(s)),{isStatic:o}=i.useContext(M);if(o){const[,n]=i.useState(s);i.useEffect(()=>a.on("change",n),[])}return a}function $(s){s.values.forEach(a=>a.stop())}function p(s,a){[...a].reverse().forEach(n=>{const l=s.getVariant(n);l&&C(s,l),s.variantChildren&&s.variantChildren.forEach(c=>{p(c,a)})})}function D(s,a){if(Array.isArray(a))return p(s,a);if(typeof a=="string")return p(s,[a]);C(s,a)}function F(){const s=new Set,a={subscribe(o){return s.add(o),()=>void s.delete(o)},start(o,n){const l=[];return s.forEach(c=>{l.push(I(c,o,{transitionOverride:n}))}),Promise.all(l)},set(o){return s.forEach(n=>{D(n,o)})},stop(){s.forEach(o=>{$(o)})},mount(){return()=>{a.stop()}}};return a}function U(){const s=w(F);return R(s.mount,[]),s}const H=U,K=()=>{const{language:s}=P(),a=W[s].portfolio,o=V(s),[n,l]=i.useState("all"),[c,v]=i.useState(0),m=H(),x=T(0),g=i.useRef(null),[f,k]=i.useState(0),b=["all",...new Set(o.map(t=>t.category))],d=n==="all"?o:o.filter(t=>t.category===n);i.useEffect(()=>{const t=()=>{if(g.current){const r=g.current.offsetWidth;k(r*.85+r*.15*.2)}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i.useEffect(()=>{v(0),m.set({x:0}),x.set(0)},[n,m,x]);const u=t=>{v(t),m.start({x:-t*f,transition:{type:"spring",stiffness:300,damping:30}})},E=()=>{const t=(c+1)%d.length;u(t)},S=()=>{const t=(c-1+d.length)%d.length;u(t)},L=(t,r)=>{const{offset:_,velocity:y}=r;if(Math.abs(y.x)>50)y.x>0?S():E();else{const A=Math.round(-x.get()/f);u(A)}};return e.jsxs(h.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},id:"portfolio",className:"py-16 md:py-24 bg-violet-600/10 backdrop-blur-lg relative overflow-hidden border-t border-b border-violet-500/30",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1 bg-gradient-to-r from-transparent via-violet-600 to-transparent opacity-30"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-16",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-4 md:mb-6 bg-gradient-to-r from-violet-400 to-fuchsia-300 text-transparent bg-clip-text",children:a.title}),e.jsx("p",{className:"text-gray-400 max-w-3xl mx-auto text-base md:text-lg",children:a.subtitle}),e.jsx("div",{className:"hidden md:flex flex-wrap justify-center gap-2 mt-10",children:b.map((t,r)=>e.jsx("button",{onClick:()=>l(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${n===t?"bg-violet-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},r))}),e.jsx("div",{className:"md:hidden mt-8",children:e.jsx("select",{value:n,onChange:t=>l(t.target.value),className:"px-4 py-3 rounded-full text-sm font-medium bg-gray-800 text-gray-300 border border-gray-700 focus:border-violet-500 focus:outline-none w-full max-w-xs",children:b.map((t,r)=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},r))})})]}),e.jsx("div",{className:"hidden md:grid md:grid-cols-2 gap-8",children:d.map(t=>e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"group relative overflow-hidden rounded-2xl bg-gray-900 transition-all duration-500 hover:shadow-xl hover:shadow-violet-900/20",children:[e.jsxs("div",{className:"aspect-video overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-70 transition-opacity duration-300 group-hover:opacity-90"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 transform translate-y-4 transition-transform duration-300 group-hover:translate-y-0",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-violet-600/30 text-violet-300 text-xs mb-4",children:t.category}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"hidden md:block text-gray-300 mb-6 opacity-0 transform translate-y-10 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0",children:t.description}),e.jsxs(j,{to:`/portfolio/${t.id}`,className:"inline-flex items-center text-violet-400 hover:text-violet-300 transition-colors",children:[a.viewProject," ",e.jsx(N,{className:"ml-1 w-4 h-4"})]})]})]},t.id))}),e.jsxs("div",{ref:g,className:"md:hidden relative overflow-hidden",children:[e.jsx(h.div,{className:"flex gap-3",drag:"x",dragConstraints:{right:0,left:-f*(d.length-1)},animate:m,style:{x},onDragEnd:L,dragElastic:.1,children:d.map((t,r)=>e.jsx("div",{className:"flex-shrink-0 w-[85%] snap-center",style:{minWidth:"85%"},children:e.jsx(j,{to:`/portfolio/${t.id}`,className:"block focus:outline-none",tabIndex:0,style:{borderRadius:"1rem",overflow:"hidden"},children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},className:"group relative overflow-hidden rounded-2xl bg-gray-900 transition-all duration-500",children:[e.jsxs("div",{className:"aspect-video overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-70 transition-opacity duration-300 group-hover:opacity-90"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6 transform translate-y-4 transition-transform duration-300 group-hover:translate-y-0",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-violet-600/30 text-violet-300 text-xs mb-3",children:t.category}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"text-gray-300 mb-4 text-sm hidden md:block",children:t.description}),e.jsxs("span",{className:"inline-flex items-center text-violet-400 hover:text-violet-300 transition-colors",style:{minHeight:"44px",minWidth:"44px"},children:[a.viewProject," ",e.jsx(N,{className:"ml-1 w-4 h-4"})]})]})]})})},t.id))}),e.jsx("div",{className:"flex justify-center items-center gap-2 mt-4",children:d.map((t,r)=>e.jsx("button",{onClick:()=>u(r),className:`transition-all duration-300 rounded-full ${r===c?"w-5 h-2 bg-violet-400":"w-2 h-2 bg-gray-600 hover:bg-gray-500"}`},r))})]})]})]})};export{K as default};
